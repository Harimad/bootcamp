<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>

<body>
	<script>
		// Promise를 이용한 비동기 API 요청 함수 만들기

		const url = 'https://random-word-api.herokuapp.com/word?number=5';

		// fetch()
		function getData() {
			const res = fetch(url);
			console.log(res); // Promise {<pending>} [[Prototype]]: Promise, [[PromiseState]]: "fulfilled", [[PromiseResult]]: Response

			res
				.then(res => {
					// console.log(res); // Response {type: 'cors', url: 'https://random-word-api.herokuapp.com/word?number=20', redirected: false, status: 200, ok: true, …}
					// console.log(res.json()); // Promise {<pending>}, [[Prototype]]: Promise, [[PromiseState]]: "fulfilled", [[PromiseResult]]: Array(5)

					return res.json();
				})
				.then(data => {
					console.log(data); // 최종 넘겨받은 데이터. (5) ['coniums', 'tuitional', 'desanding', 'activized', 'decidua']
				})
		}

		getData();

		// Async / Await을 이용한 비동기 API 요청 함수 만들기
		async function getDataWithAsync() {
			const res = await fetch(url); // await을 붙이면 fetch가 다 완료된 다음에 다음 코드가 실행된다.
			console.log(res); // Response {type: 'cors', url: 'https://random-word-api.herokuapp.com/word?number=5', redirected: false, status: 200, ok: true, …}

			const data = await res.json();
			console.log(data); // (5) ['assayable', 'resignation', 'fieldsmen', 'kenotic', 'handbasket']
		}

		getDataWithAsync();
	</script>

</body>

</html>
